<!DOCTYPE html>
	<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org" >

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title >SayLaugh</title>
		<link rel="shortcut icon" th:href="@{/static/img/logo.ico}"/>
	</head>

	<body>
<!--	<span th:text="${msg}">This is MyTest page with Thymeleaf!</span>-->
		<div class="body-star">
			<div class="stars"></div>
		</div>
		<div class="container">
			<div class="container bg-tltle" th:replace="/public :: bg-tltle"></div>
			<div class="container to-body">
				<div class="row">
					<div class="col-lg-2">
						<div class="menu-new recommend">
							<label class="glyphicon glyphicon-send"></label><label>为你推荐</label>
						</div>
						<div class="menu-new hotArticle">
							<label class="glyphicon glyphicon glyphicon-leaf"></label><label>近期热门</label>
						</div>
						<div class="menu-new timeArticle">
							<label class="glyphicon glyphicon-bullhorn"></label><label>最新内容</label>
						</div>
						<div class="menu-new ownerArticle">
							<label class="glyphicon glyphicon-home"></label><label>我的博文</label>
						</div>
						<div th:utext="${str}"></div>
					</div>
					<div class="col-lg-10">
						<div class="container artcle">
							<div class="row artcle-row">
								<div class="col-lg-8">
									<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
										<!-- Indicators -->
										<ol class="carousel-indicators">
											<li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
											<li data-target="#carousel-example-generic" data-slide-to="1"></li>
											<li data-target="#carousel-example-generic" data-slide-to="2"></li>
											<li data-target="#carousel-example-generic" data-slide-to="3"></li>
										</ol>

										<!-- Wrapper for slides -->
										<div class="carousel-inner" role="listbox">
											<div class="item active">
												<img th:src="@{/static/img/h1.png}" alt="">
												<div class="carousel-caption">
													<div class="text2">
														<h3>白日何短短  </h3>
														<p>百年苦易满 </p>
													</div>
												</div>
											</div>
											<div class="item">
												<img th:src="@{/static/img/h2.png}" alt="">
												<div class="carousel-caption">
													<div class="text2">
														<h3>夕阳无限好  </h3>
														<p>只是近黄昏</p>
													</div>
												</div>
											</div>
											<div class="item">
												<img th:src="@{/static/img/h3.png}" alt="">
												<div class="carousel-caption">
													<div class="text2">
														<h3>昔去雪如花  </h3>
														<p>今来花似雪</p>
													</div>
												</div>
											</div>
											<div class="item">
												<img th:src="@{/static/img/h4.png}" alt="">
												<div class="carousel-caption">
													<div class="text2">
														<h3>去年花里逢君别 </h3>
														<p> 今日花开已一年</p>
													</div>
												</div>
											</div>
										</div>
										<!-- Controls -->
										<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
											<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
											<span class="sr-only">Previous</span>
										</a>
										<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
											<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
											<span class="sr-only">Next</span>
										</a>
									</div>

									<div class="artcle-detail" id="first-artcle" th:each="art:${article}">
										<h4 class="u-title" th:href="@{/article/}+${art.a_id}">[[${art.title}]]</h4>
										<div class="u-detail" th:text="${art.a_text}">
										</div>
										<div class="u-img"><img th:src="@{/static/img/}+${art.cover_photo}"  /></div>
										<div class="u-author">
											<span class="u-like"><label th:attr="a_id=${art.a_id}"  class="glyphicon glyphicon-thumbs-up"></label><label th:attr="like=${art.favour}" th:value="${#arrays.contains(like,art.a_id)}" >[[${art.favour}]]人点赞</label></span>
											<span class="u-browse"><label class="glyphicon glyphicon-eye-open "></label><label th:text="${art.readSum}"></label></span>
											<span class="u-user"><label class="glyphicon glyphicon-user "></label><label><a th:href="@{/ower/}+${art.say_user.user_id}" th:text="${art.say_user.userName}"></a></label></span>
											<span class="u-date"><label  class="glyphicon glyphicon-time"></label><label th:text="${#dates.format(art.send_time,'yyyy-MM-dd HH:mm:ss')}"></label></span>
										</div>
									</div>


								</div>
								<div class="col-lg-4">
									<div class="login-div">
										<div class="box">
											<div class="login-title">登录<span style="float: right" class="res-span">注册</span></div>
											<div class="login-input">
												<label for="username" class="lable-user">邮箱</label>
												<input type="text" autocomplete="off" name="name" id="username">
												<span class="spin"></span>
											</div>
											<div class="login-input">
												<label for="userpassword" autocomplete="off" class="lable-pwd">密码</label>
												<input type="password" name="pass" id="userpassword">
												<span class="spin"></span>
											</div>
											<div>
												<div class="login-input v-code">
													<!--<label for="v-number" class="number-lable">验证码</label>-->
													<input type="text" autocomplete="off" class="login-number input-val" value="" placeholder="请输入验证码（不区分大小写）"  />
													<canvas id="canvas" width="100" height="38"></canvas>
													<span class="spin"></span>
												</div>
											</div>
											<div class="login-btn">
												<button id="login-go" class="btn btn-warning ladda-button" data-style="slide-up"><span class="ladda-label">登录</span></button>
											</div>
										</div>

										<div class="overbox">
											<div class="login-title">注册<span style="float: right" class="login-span">登录</span></div>
											<div class="login-input">
												<label for="regname">邮箱</label>
												<input type="text" autocomplete="off" name="email" id="regname">
												<span class="spin"></span>
											</div>
											<div class="login-input">
												<label for="regpass">密码</label>
												<input type="password" autocomplete="off" name="password1" id="regpass">
												<span class="spin"></span>
											</div>
											<div class="login-input">
												<label for="re-regpass">确认密码</label>
												<input type="password" autocomplete="off" name="password" id="re-regpass">
												<span class="spin"></span>
											</div>
											<div class="login-input v-code res-div">
												<!--<l	abel for="v-number" class="number-lable">验证码</label>-->
												<input type="text" name="qqSent" autocomplete="off" class="v-number" value="" placeholder="请查看邮箱" />
												<button class="qq-send" id="sendemail">验证码发送</button>
												<span class="spin"></span>
											</div>
											<div class="login-btn">
												<button id="res-go" class="btn btn-info ladda-button" data-style="zoom-in"><span class="ladda-label">注册</span></button>
											</div>
										</div>


									</div>

									<div class="jq22-content init-div">
										<div class="flip-3d">
											<figure>
												<img class="hover-img" th:src="@{/static/img/saylaugh.jpg}" alt="">
												<figcaption>
														我的出生日：2020年08月<br><br>
														距离现在已过去.....<span class="long-time"></span><br><br>
														有<span class="see-me">23484</span>人看过我，有点害羞。<br><br>
														远在<span class="see-adrees"></span>的你还好吗？<br><br>
												</figcaption>
											</figure>
											<h4 class="text" style="text-align: center">简&nbsp;&nbsp;介</h4>
										</div>
									</div>

									<div class="u-recommend">
										<div class="u-recommend-title">热门文章</div>
										<div class="u-recommend-list">
											<div class="u-list" th:each="a:${article}">
												<img th:src="@{/static/img/}+${a.cover_photo}" />
												<div class="u-list-detail" th:text="${ a.title}"  th:attr="value=@{/article/}+${a.a_id}" ></div>
												<div class="u-list-icon"><label class="glyphicon glyphicon-fire"></label><label class="u-look" th:text="${a.readSum}"></label></div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="tail" th:replace="/footer :: foot"></div>
		</div>

<script src="http://webapi.amap.com/maps?v=1.4.0&amp;key=88677a1eeae5f527e0cbf0d0a537de11&callback=init"></script>
<script>
	function init(){
		var map, geolocation;
		//实例化地图
		var map = new AMap.Map('container', {
		//resizeEnable: true,
		});
		//配置插件AMap.Geolocation
		map.plugin('AMap.Geolocation', function () {
			geolocation = new AMap.Geolocation({
				enableHighAccuracy: false,//是否使用高精度定位，默认:true
				timeout: 10000,          //超过10秒后停止定位，默认：无穷大
				maximumAge: 0,           //定位结果缓存0毫秒，默认：0
				convert: true,           //自动偏移坐标，偏移后的坐标为高德坐标，默认：true
				showButton: true,        //显示定位按钮，默认：true
				buttonPosition: 'LB',    //定位按钮停靠位置，默认：'LB'，左下角
				buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)
				showMarker: true,        //定位成功后在定位到的位置显示点标记，默认：true
				showCircle: true,        //定位成功后用圆圈表示定位精度范围，默认：true
				panToLocation: true,     //定位成功后将定位到的位置作为地图中心点，默认：true
				zoomToAccuracy:true      //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
			});
			map.addControl(geolocation);
			geolocation.getCurrentPosition();
			AMap.event.addListener(geolocation, 'complete', onComplete);//返回定位信息
			AMap.event.addListener(geolocation, 'error', onError);      //返回定位出错信息
			//  把当前的位置信息放到页面中
				function onComplete(data) {
					$(".see-adrees").html(data.formattedAddress);
				}
				//如果报错把报错信息输出
				function onError(data) {
					console.log(data)
				}
			});

		}
		</script>

		<!--<script src="js/jquery-3.4.1.js"></script>-->
		<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
		<script th:src="@{/static/bootstrap/js/bootstrap.js}"></script>

		<script th:src="@{/static/js/lib/spop/spin.min.js}"></script>
		<!--按钮-->
		<script th:src="@{/static/js/lib/ladda-bootstrap-master/ladda.min.js}"></script>
		<!--验证码-->
		<script th:src="@{/static/js/lib/code/code.js}"></script>
		<!--进度条-->
		<script>
				var user = '[[${session.user}]]';
				var judge=user=="";
				if (judge) {
					$(".login-div").show();
				}
				else{
					$(".login-div").hide();
				}

				$(".login-div").hide();

				setTimeout(function removeReadonly(){
					var username = document.getElementById("username");
					var password = document.getElementById("userpassword");
					var regname = document.getElementById("regname");
					var regpass = document.getElementById("regpass");
					var re_regpass = document.getElementById("re-regpass");
					username.removeAttribute("readonly");
					password.removeAttribute("readonly");
					regname.removeAttribute("readonly");
					regpass.removeAttribute("readonly");
					re_regpass.removeAttribute("readonly");
			},1000);
			code_draw();
			// Bind normal buttons
			Ladda.bind('div:not(.progress-demo) button', {
				timeout: 2000
			});

			// Bind progress buttons and simulate loading progress
			Ladda.bind('.progress-demo button', {
				callback: function(instance) {
					var progress = 0;
					var interval = setInterval(function() {
						progress = Math.min(progress + Math.random() * 0.1, 1);
						instance.setProgress(progress);

						if(progress === 1) {
							instance.stop();
							clearInterval(interval);
						}
					}, 200);
				}
			});
		</script>
	</body>

</html>